# ============================================================================
# GENERATED BY PARA, PopcornSAR
# Custom PreventRollback App
# ============================================================================

cmake_minimum_required(VERSION 3.16)
set(CMAKE_CXX_STANDARD 14)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
set(CMAKE_EXPORT_COMPILE_COMMANDS ON)

option(BUILD_IN_DOCKER "Build in docker environment" OFF)
if(BUILD_IN_DOCKER)
    add_definitions(-DBUILD_IN_DOCKER)
endif()

message(STATUS "BUILD_IN_DOCKER : ${BUILD_IN_DOCKER}")
message(STATUS "GEN_DIR : ${GEN_DIR}")
message(STATUS "PARA_SDK : ${PARA_SDK}")

set(INSTALL_DIR ${CMAKE_INSTALL_PREFIX})
set(GEN_MACHINE_DIR "${GEN_DIR}/gen/gen_ara/implementation/EEVP_Main_Machine")
set(PARA_INC_DIR "${PARA_SDK}/include")

message(STATUS "INSTALL_DIR : ${INSTALL_DIR}")
message(STATUS "PARA_INC_DIR : ${PARA_INC_DIR}")

include(${GEN_MACHINE_DIR}/cmake/ParaSdk.cmake)

set(PARA_APP_NAME PreventRollback)
set(PARA_APP_VERSION 1.0.0)
set(PARA_APP_GEN_DIR "${GEN_MACHINE_DIR}/${PARA_APP_NAME}")
set(PARA_APP_GEN_INCLUDE_DIR "${PARA_APP_GEN_DIR}/include")

add_compile_definitions(APP_NAME=\"${PARA_APP_NAME}\")

Para_App()

# ============================================================================
project(${PARA_APP_NAME}
        VERSION ${PARA_APP_VERSION}
        LANGUAGES CXX)

include_directories("./include")
include_directories(${PARA_APP_GEN_INCLUDE_DIR})
include_directories(${PARA_INC_DIR})

message(STATUS "PARA_APP_GEN_INCLUDE_DIR : ${PARA_APP_GEN_INCLUDE_DIR}")

set(SRC
    src/main.cpp
    src/preventrollback.cpp
    src/rportbcm_exteriorsignal.cpp
    src/rportmain_pdw_service.cpp
    src/rportpwd.cpp
    src/rportsoavehicleinfo.cpp
    src/rportsubscriptionmanagement.cpp
    src/rportvcs_accrpedal.cpp
    src/rportvcs_brakepedal.cpp
    src/rportvcs_gear.cpp
)

add_executable(${PROJECT_NAME} ${SRC})

Para_Target(${PARA_APP_NAME}
    PARA_LIBS_PRIVATE core log exec com
    PARA_GEN_DIR ${PARA_APP_GEN_DIR}
    OUTPUT_NAME ${PARA_APP_NAME}
)